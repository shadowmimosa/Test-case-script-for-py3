*** Settings ***
Documentation     running/domain/apply 申请增加跑场
Library           Collections
Library           RequestsLibrary
Library           pymysql
Library           DatabaseLibrary
Library           String
Library           HttpLibrary.HTTP
Library           ../Public/Lib/tools_library.py
Resource          ../Public/public_lib.txt

*** Variable ***
${pwd}            67889911    # 密码
${userName}       13829744541    # 默认的用户名
${ContentType}    application/x-www-form-urlencoded;charset=UTF-8    # POST数据格式

*** Test Cases ***    address            cityCode                               cityName    description                         distance    districtName    extras                                               location                        name       path                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            provinceName    type    coverUrl                                                                                     ret       msg
Class_01              [Documentation]    running/domain/apply TestCase申请增加跑场
                      [Tags]             Test                                   gxy
                      [Template]         running_domain_apply_Post_Keywords
                      元岗街道元岗横路310号       020                                    广州市         橡胶路面，有路灯和厕所，交通方便橡胶路面，有路灯和厕所，交通方便    400         天河区             {"nightSuggestions":\[\],"roadType":4,"ticket":0}    23.0437849825,113.4515565634    智汇创意园跑场    \[\[23.0441798915,113.4516531229\],\[23.0444020273,113.4515780210\],\[23.0446044173,113.4515136480\],\[23.0447475711,113.4514063597\],\[23.0448561704,113.4513312578\],\[23.0449104701,113.4512400627\],\[23.0450289419,113.4511166811\],\[23.0451572862,113.4509718418\],\[23.0452461400,113.4508538246\],\[23.0453300573,113.4507787228\],\[23.0455275097,113.4507572651\],\[23.0457249618,113.4507787228\],\[23.0459569676,113.4507089853\],\[23.0461494828,113.4507197142\],\[23.0463074437,113.4508055449\]\]                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              广东省             3       http://linked-runner.b0.upaiyun.com/track/2018/7/13/android__u_32518359_1531463324627.jpg    0         成功
                      元岗街道元岗横路310号       020                                    广州市         橡胶路面，有路灯和厕所，交通方便橡胶路面，有路灯和厕所，交通方便    400         天河区             {"nightSuggestions":\[\],"roadType":4,"ticket":0}    23.0437849825,113.4515565634    智汇创意园跑场    \[\[25.500522212967088,119.01856011770961\],\[25.500554018906737,119.01835343716338\],\[25.500612225415136,119.01804724358608\],\[25.50085765544973,119.01786354230016\],\[25.50111484226452,119.01778701132177\],\[25.50120816052435,119.01774874322217\],\[25.5014365420836,119.01760331503728\],\[25.501557986251413,119.01740429364385\],\[25.50162606334716,119.01721292291333\],\[25.501855806466335,119.0168837725139\],\[25.50206906863278,119.0167842722131\],\[25.502268256636334,119.01643980777725\],\[25.502286824291566,119.01627139669895\],\[25.502387132114094,119.0160187848144\],\[25.50236910644201,119.01572788779768\],\[25.502414094201765,119.01546761525579\],\[25.50235625319568,119.01525326570864\],\[25.502371142381666,119.01513078355775\],\[25.502255869716297,119.0148398768479\],\[25.502162073192316,119.01471738626118\],\[25.50205444939406,119.01443413424096\],\[25.50199683515895,119.01429633531205\],\[25.501944918179525,119.01415088135371\],\[25.501671542241915,119.01391354754146\],\[25.501686407224373,119.01378340858533\],\[25.50167593447977,119.01346954006796\],\[25.501602996373535,119.01330877288882\],\[25.501526313335436,119.01317097124837\],\[25.50142436057471,119.01287240520716\],\[25.50136633158325,119.01259680781507\],\[25.50127786281445,119.01234417379897\],\[25.50138659415346,119.01235949251904\],\[25.501503549522994,119.01257385172244\],\[25.501584757900545,119.01294897048234\],\[25.501638628806173,119.0131097367286\],\[25.501740535220513,119.01339299155704\],\[25.50186327801359,119.01363031540063\],\[25.501856543773698,119.01392887165403\],\[25.501984594149608,119.01402839976394\],\[25.50209950294176,119.01419682430969\],\[25.502163271805813,119.01448007373422\],\[25.50232237798143,119.01476332940145\],\[25.502360604491336,119.0147939531293\],\[25.502376817038808,119.01511547355761\],\[25.502480671239017,119.01541403384148\],\[25.502533224305356,119.01577383076622\],\[25.50253338365398,119.01582741686818\],\[25.502377780291525,119.01608002521678\],\[25.502384455344366,119.01640154075615\],\[25.502272433574156,119.01656228966188\],\[25.502146928026818,119.01667710680411\],\[25.501979541685255,119.0168148859519\],\[25.501841141992642,119.01708280293188\],\[25.501687578051246,119.0173813380703\],\[25.501594576938896,119.01752677655573\],\[25.5013909608184,119.01766455169255\],\[25.501086353892195,119.01782528415151\],\[25.500785469704255,119.01795539669592\],\[25.500620281595513,119.01819268829634\],\[25.500605524082015,119.01836109586726\],\[25.500610014268492,119.01859074378098\],\[25.500507702581398,119.01881272830845\],\[25.50031547977287,119.01893519230823\],\[25.50018429570613,119.01906531544377\],\[25.499944673196037,119.01927963368504\],\[25.499769498092114,119.0193638240297\],\[25.499441714185195,119.01942503862658\],\[25.499154062055197,119.01951687537614\],\[25.49893897913787,119.01964699134061\],\[25.49879433416189,119.01973883828896\],\[25.49867824570771,119.01981537764905\],\[25.49851877230224,119.02005266383179\],\[25.498309319053604,119.0201521602539\],\[25.498170348904456,119.02022869749035\],\[25.49803723327538,119.02035116343491\],\[25.497879284682,119.0204583179189\],\[25.4976778825818,119.02070325352743\],\[25.49763427264563,119.02078745181805\],\[25.497337129084794,119.02089459541118\],\[25.49720589671131,119.02100940564777\],\[25.49700267505215,119.02128495759945\],\[25.49694811376586,119.0215375555335\],\[25.49696013295401,119.02173657542983\],\[25.497138418368447,119.02206573398223\],\[25.49716908213808,119.02211931789148\],\[25.496951088212505,119.02190497498991\],\[25.496878008287776,119.02169064199654\],\[25.496864260314226,119.02155285856098\],\[25.496971876877886,119.02118544522128\],\[25.49707832152695,119.02107063347107\],\[25.49727413864522,119.02087162679784\],\[25.497542479530107,119.02069558891502\],\[25.49765650572004,119.02056546748342\],\[25.497852478033103,119.02042004237931\],\[25.498128511947105,119.0202669681037\],\[25.498235134260938,119.0202133927612\],\[25.498470878939948,119.01997611270761\],\[25.498630531638785,119.0198000645851\],\[25.4988893807368,119.01963933290482\],\[25.49920345826879,119.01945564045626\],\[25.499344356747702,119.01938675736302\],\[25.49969692861789,119.01932554455064\],\[25.499908422178585,119.0192719761893\],\[25.50006827556308,119.01916482006867\],\[25.500292711171866,119.01897346500067\],\[25.50039926479886,119.01889692406705\],\[25.500554921013833,119.01865963388899\],\[25.500620552503186,119.01828454762493\],\[25.50071516803153,119.01803959616504\],\[25.50096799896059,119.017779345582\],\[25.501156474380398,119.01767984451124\],\[25.501371734826005,119.01761096529285\],\[25.501531676461422,119.01753442695805\],\[25.50168185776925,119.01738133765141\],\[25.50178988612899,119.01715934963198\],\[25.50186953934638,119.01701390954578\],\[25.501981312293832,119.0167689556378\],\[25.502144862349198,119.01662352105039\],\[25.50221323319402,119.01653166494883\],\[25.5023631173867,119.01627905740087\],\[25.502455843677772,119.01604175525567\],\[25.502478292490384,119.01589630919435\],\[25.50242592205845,119.01559775412426\],\[25.50239647752888,119.01531451021678\],\[25.502367283243814,119.01511547286009\],\[25.5022213197419,119.01476332200866\],\[25.502129178618354,119.0145566237535\],\[25.502113536090434,119.01442648330533\],\[25.501900879717827,119.01408963590384\],\[25.50174004830722,119.01386762078769\],\[25.501742945986706,119.0135614087849\],\[25.501690913617164,119.01337767727652\],\[25.501555006450783,119.01320159470008\],\[25.50149360032531,119.01307144940492\],\[25.501467803069218,119.0127346118788\],\[25.50145041271257,119.01265805693232\],\[25.501356269697443,119.01242073338145\],\[25.50139162525578,119.01212983110257\],\[25.50132247623952,119.01196140717263\],\[25.50131213771149,119.01169346689605\],\[25.501201016493535,119.01151738397593\],\[25.501127938270933,119.01131068187672\],\[25.50126837109197,119.01108868420513\],\[25.5013041160004,119.01092792226557\],\[25.50131649581368,119.01060639361376\],\[25.501247529778,119.01049921192804\],\[25.50109032240928,119.01021594757377\],\[25.500958271577773,119.01005517259833\],\[25.50081291940548,119.009909707523\],\[25.500554975800977,119.00973361209651\],\[25.500432666054024,119.0096417370589\],\[25.500336427755915,119.00934316490826\],\[25.50016208105204,119.00906755325252\],\[25.499894672128452,119.00891442308132\],\[25.499749527010977,119.00883785712574\],\[25.499592664036577,119.00866942379803\],\[25.499380735780775,119.00857754180768\],\[25.499182247234728,119.00851628295669\],\[25.49902938238583,119.0084090941259\],\[25.498986925073634,119.00824066888053\],\[25.49888705660536,119.00800333931237\],\[25.498770188918044,119.0078195972817\],\[25.498658972054645,119.00761288885235\],\[25.498584029924697,119.0074214940941\],\[25.498541502764475,119.00723010160105\],\[25.498449307009437,119.00700808306799\],\[25.49837045853007,119.00678606539405\],\[25.498211872777198,119.00667887562331\],\[25.498015174728543,119.00657933864039\],\[25.49789828323279,119.00638794036908\],\[25.497981602487705,119.00619655662796\],\[25.497944702628498,119.00597454168043\],\[25.49799358419624,119.00574487731782\],\[25.49818358978212,119.00552287877676\],\[25.49830353101631,119.00546164271128\],\[25.49853541593277,119.00521668035111\],\[25.49869521401445,119.00509420234864\],\[25.498925562448004,119.00497172947651\],\[25.49909275598877,119.00477269595201\],\[25.499256645306417,119.00474208547423\],\[25.49949641163989,119.00458133524462\],\[25.499619680001015,119.0043593316852\],\[25.499853494429782,119.00412202497124\],\[25.499809754590363,119.004160299808\]\]    广东省             3       http://linked-runner.b0.upaiyun.com/track/2018/7/13/android__u_32518359_1531463324627.jpg    700005    路线已经存在，请创建其它路线

*** Keywords ***
running_domain_apply_Post_Keywords
    [Arguments]    ${address}    ${cityCode}    ${cityName}    ${description}    ${distance}    ${districtName}
    ...    ${extras}    ${location}    ${name}    ${path}    ${provinceName}    ${type}
    ...    ${coverUrl}    ${ret}    ${msg}
    [Documentation]    running/domain/apply 接口用例的Keywords关健字
    Evaluate    reload(sys)    sys
    Evaluate    sys.setdefaultencoding( "utf-8" )    sys
    #从配置的用户列表中随机取一个用户运行此用例
    #${userName}    Env_username
    ${path1}=    set variable    /running/domain/apply
    ${maps}=    create dictionary
    set to dictionary    ${maps}    address=${address}
    set to dictionary    ${maps}    cityCode=${cityCode}
    set to dictionary    ${maps}    cityName=${cityName}
    set to dictionary    ${maps}    description=${description}
    set to dictionary    ${maps}    distance=${distance}
    set to dictionary    ${maps}    districtName=${districtName}
    set to dictionary    ${maps}    extras=${extras}
    set to dictionary    ${maps}    location=${location}
    set to dictionary    ${maps}    name=${name}
    set to dictionary    ${maps}    path=${path}
    set to dictionary    ${maps}    provinceName=${provinceName}
    set to dictionary    ${maps}    type=${type}
    log    ========输出接口URL：${rd_URL}${path}
    log    ========接口的入参为：${maps}==========
    ${resp}=    thejoyrun_postd    ${path1}    ${maps}    ${userName}    ${rd_URL}
    ${content}=    charconver    ${resp.content}
    log json    ${content}
    log    ======开始断言验证=====
    log    验证ret是否符合预期
    should contain    ${content}    "ret":"${ret}"
    log    ret 符合预期为:${ret}
    log    验证msg是否符合预期:${msg}
    should contain    ${content}    "msg":"${msg}"
    #当需要添加对data的内容进行单独验证时，可以以下方式
    #${data}    get json value    ${content}    /data
    log    验证OK！！用户${userName}；URL：${rd_URL}${path}；传参：${maps}！！
